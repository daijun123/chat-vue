webpackJsonp([1],{127:function(t,s,n){"use strict";var e=n(4),o=n(169),i=n(164),a=n.n(i),r=n(163),c=n.n(r),l=n(162),u=n.n(l);e.a.use(o.a),s.a=new o.a({routes:[{path:"/",name:"Login",component:a.a},{path:"/chatting",name:"Chatting",component:c.a},{path:"/AI",name:"AI",component:u.a}]})},129:function(t,s,n){function e(t){n(156)}var o=n(2)(n(148),n(166),e,null,null);t.exports=o.exports},148:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"app"}},149:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(10),o=n.n(e);s.default={name:"chatting",data:function(){return{msgs:localStorage.msgs_ai&&JSON.parse(localStorage.msgs_ai)||[],emojis:["😂","🙏","😄","😏","😇","😅","😌","😘","😍","🤓","😜","😎","😊","😳","🙄","😱","😒","😔","😷","👿","🤗","😩","😤","😣","😰","😴","😬","😭","👻","👍","✌️","👉","👀","🐶","🐷","⚽️","❤️"],isShowEmoji:!1,inputContent:""}},watch:{msgs:function(t){localStorage.msgs_ai=o()(t)}},computed:{name:function(){return this.$store.state.name},avatarUrl:function(){return this.$store.state.avatarUrl}},beforeRouteEnter:function(t,s,n){localStorage.name?n():n("/")},mounted:function(){var t=this;this.oContent=document.querySelector(".chatting-content"),this.oContent.scrollTop=this.oContent.scrollHeight,setTimeout(function(){t.oContent.scrollTop=t.oContent.scrollHeight},0)},methods:{back:function(){localStorage.name="",this.$router.push("/")},showEmoji:function(){this.isShowEmoji=!this.isShowEmoji},insertText:function(t){this.inputContent=this.inputContent+t},hideEmoji:function(){this.isShowEmoji=!1},send:function(){var t=this;this.isShowEmoji=!1,""!==this.inputContent&&(this.msgs.push({date:this.moment().format("YYYY-MM-DD HH:mm:ss"),from:""+localStorage.name,content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),setTimeout(function(){return t.oContent.scrollTop=t.oContent.scrollHeight},0),console.log(this.inputContent),this.axios.get("/api/content/"+this.inputContent).then(function(s){console.log(s),t.msgs.push({date:t.moment().format("MM-DD HH:mm:ss"),from:"智能机器人",content:s.data.content.replace(/{br}/g,"\n"),self:!1,avatarUrl:"http://omratag7g.bkt.clouddn.com/icon-ai.svg"})}).then(function(){t.oContent.scrollTop=t.oContent.scrollHeight}),this.inputContent="")}}}},150:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(10),o=n.n(e);s.default={name:"chatting",data:function(){return{msgs:localStorage.msgs_group&&JSON.parse(localStorage.msgs_group)||[],emojis:["😂","🙏","😄","😏","😇","😅","😌","😘","😍","🤓","😜","😎","😊","😳","🙄","😱","😒","😔","😷","👿","🤗","😩","😤","😣","😰","😴","😬","😭","👻","👍","✌️","👉","👀","🐶","🐷","⚽️","❤️"],isShowEmoji:!1,inputContent:"",isAI:!1}},watch:{msgs:function(t){localStorage.msgs_group=o()(t)}},computed:{name:function(){return this.$store.state.name},avatarUrl:function(){return this.$store.state.avatarUrl}},beforeRouteEnter:function(t,s,n){localStorage.name?n():n("/")},mounted:function(){var t=this;setInterval(function(){return t.isAI=!t.isAI},1500),this.oContent=document.querySelector(".chatting-content"),this.oContent.scrollTop=this.oContent.scrollHeight,this.oTextarea=document.querySelector("textarea"),socket.emit("online",this.$store.state.name),socket.on("online",function(s){if(s){var n=document.createElement("div");n.className="online",n.innerText=s+"上线了",t.oContent.appendChild(n),t.oContent.scrollTop=t.oContent.scrollHeight}}),socket.on("receiveGroupMsg",function(s){t.msgs.push(s),setTimeout(function(){t.oContent.scrollTop=t.oContent.scrollHeight},0)}),this.oContent.scrollTop=this.oContent.scrollHeight},methods:{back:function(){localStorage.name="",this.$router.push("/")},showEmoji:function(){this.isShowEmoji=!this.isShowEmoji},insertText:function(t){this.inputContent=this.inputContent+t},hideEmoji:function(){this.isShowEmoji=!1},send:function(){var t=this;this.isShowEmoji=!1,""!==this.inputContent&&(socket.emit("sendGroupMsg",{date:this.moment().format("YYYY-MM-DD HH:mm:ss"),from:""+localStorage.name,content:this.inputContent,avatarUrl:this.avatarUrl}),this.msgs.push({date:this.moment().format("YYYY-MM-DD HH:mm:ss"),from:""+localStorage.name,content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),this.inputContent="",setTimeout(function(){return t.oContent.scrollTop=t.oContent.scrollHeight},100),console.log(this.msgs))}}}},151:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"login",data:function(){return{name:""}},beforeCreate:function(){localStorage.name&&this.$router.push("/chatting")},methods:{login:function(){console.log(this.name),""!=this.name&&(this.$store.commit("changeName",this.name),localStorage.name=this.name,this.$router.push({name:"Chatting"}))}}}},152:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(4),o=n(129),i=n.n(o),a=n(127),r=n(0),c=n.n(r),l=n(130),u=n(126),m=n.n(u),h=n(128),v=n.n(h);c.a.locale("zh-cn"),e.a.prototype.HOST="/api",e.a.prototype.moment=c.a,e.a.prototype.random=function(t){return Math.floor(t*Math.random())},e.a.use(l.a),e.a.use(v.a,m.a);var d=new l.a.Store({state:{name:"",avatarUrl:"http://omratag7g.bkt.clouddn.com/icon-avatar"+e.a.prototype.random(21)+".svg"},mutations:{changeName:function(t,s){t.name=s}}});e.a.config.productionTip=!1,new e.a({el:"#app",router:a.a,store:d,template:"<App/>",components:{App:i.a}})},155:function(t,s){},156:function(t,s){},157:function(t,s){},158:function(t,s){},160:function(t,s,n){function e(t){return n(o(t))}function o(t){var s=i[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}var i={"./af":11,"./af.js":11,"./ar":18,"./ar-dz":12,"./ar-dz.js":12,"./ar-kw":13,"./ar-kw.js":13,"./ar-ly":14,"./ar-ly.js":14,"./ar-ma":15,"./ar-ma.js":15,"./ar-sa":16,"./ar-sa.js":16,"./ar-tn":17,"./ar-tn.js":17,"./ar.js":18,"./az":19,"./az.js":19,"./be":20,"./be.js":20,"./bg":21,"./bg.js":21,"./bn":22,"./bn.js":22,"./bo":23,"./bo.js":23,"./br":24,"./br.js":24,"./bs":25,"./bs.js":25,"./ca":26,"./ca.js":26,"./cs":27,"./cs.js":27,"./cv":28,"./cv.js":28,"./cy":29,"./cy.js":29,"./da":30,"./da.js":30,"./de":33,"./de-at":31,"./de-at.js":31,"./de-ch":32,"./de-ch.js":32,"./de.js":33,"./dv":34,"./dv.js":34,"./el":35,"./el.js":35,"./en-au":36,"./en-au.js":36,"./en-ca":37,"./en-ca.js":37,"./en-gb":38,"./en-gb.js":38,"./en-ie":39,"./en-ie.js":39,"./en-nz":40,"./en-nz.js":40,"./eo":41,"./eo.js":41,"./es":43,"./es-do":42,"./es-do.js":42,"./es.js":43,"./et":44,"./et.js":44,"./eu":45,"./eu.js":45,"./fa":46,"./fa.js":46,"./fi":47,"./fi.js":47,"./fo":48,"./fo.js":48,"./fr":51,"./fr-ca":49,"./fr-ca.js":49,"./fr-ch":50,"./fr-ch.js":50,"./fr.js":51,"./fy":52,"./fy.js":52,"./gd":53,"./gd.js":53,"./gl":54,"./gl.js":54,"./gom-latn":55,"./gom-latn.js":55,"./he":56,"./he.js":56,"./hi":57,"./hi.js":57,"./hr":58,"./hr.js":58,"./hu":59,"./hu.js":59,"./hy-am":60,"./hy-am.js":60,"./id":61,"./id.js":61,"./is":62,"./is.js":62,"./it":63,"./it.js":63,"./ja":64,"./ja.js":64,"./jv":65,"./jv.js":65,"./ka":66,"./ka.js":66,"./kk":67,"./kk.js":67,"./km":68,"./km.js":68,"./kn":69,"./kn.js":69,"./ko":70,"./ko.js":70,"./ky":71,"./ky.js":71,"./lb":72,"./lb.js":72,"./lo":73,"./lo.js":73,"./lt":74,"./lt.js":74,"./lv":75,"./lv.js":75,"./me":76,"./me.js":76,"./mi":77,"./mi.js":77,"./mk":78,"./mk.js":78,"./ml":79,"./ml.js":79,"./mr":80,"./mr.js":80,"./ms":82,"./ms-my":81,"./ms-my.js":81,"./ms.js":82,"./my":83,"./my.js":83,"./nb":84,"./nb.js":84,"./ne":85,"./ne.js":85,"./nl":87,"./nl-be":86,"./nl-be.js":86,"./nl.js":87,"./nn":88,"./nn.js":88,"./pa-in":89,"./pa-in.js":89,"./pl":90,"./pl.js":90,"./pt":92,"./pt-br":91,"./pt-br.js":91,"./pt.js":92,"./ro":93,"./ro.js":93,"./ru":94,"./ru.js":94,"./sd":95,"./sd.js":95,"./se":96,"./se.js":96,"./si":97,"./si.js":97,"./sk":98,"./sk.js":98,"./sl":99,"./sl.js":99,"./sq":100,"./sq.js":100,"./sr":102,"./sr-cyrl":101,"./sr-cyrl.js":101,"./sr.js":102,"./ss":103,"./ss.js":103,"./sv":104,"./sv.js":104,"./sw":105,"./sw.js":105,"./ta":106,"./ta.js":106,"./te":107,"./te.js":107,"./tet":108,"./tet.js":108,"./th":109,"./th.js":109,"./tl-ph":110,"./tl-ph.js":110,"./tlh":111,"./tlh.js":111,"./tr":112,"./tr.js":112,"./tzl":113,"./tzl.js":113,"./tzm":115,"./tzm-latn":114,"./tzm-latn.js":114,"./tzm.js":115,"./uk":116,"./uk.js":116,"./ur":117,"./ur.js":117,"./uz":119,"./uz-latn":118,"./uz-latn.js":118,"./uz.js":119,"./vi":120,"./vi.js":120,"./x-pseudo":121,"./x-pseudo.js":121,"./yo":122,"./yo.js":122,"./zh-cn":123,"./zh-cn.js":123,"./zh-hk":124,"./zh-hk.js":124,"./zh-tw":125,"./zh-tw.js":125};e.keys=function(){return Object.keys(i)},e.resolve=o,t.exports=e,e.id=160},162:function(t,s,n){function e(t){n(155)}var o=n(2)(n(149),n(165),e,"data-v-527b377a",null);t.exports=o.exports},163:function(t,s,n){function e(t){n(157)}var o=n(2)(n(150),n(167),e,"data-v-7d8badbe",null);t.exports=o.exports},164:function(t,s,n){function e(t){n(158)}var o=n(2)(n(151),n(168),e,"data-v-efbac816",null);t.exports=o.exports},165:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-right"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"},[n("i",{staticClass:"icon-back",on:{click:function(s){t.$router.push("/chatting")}}})]),t._v(" "),n("div",{staticClass:"chatting-title"},[n("h2",[t._v("AI智能机器人")])]),t._v(" "),n("div",{staticClass:"chatting-menu",on:{click:t.back}},[n("i",{staticClass:"icon-menu"})])]),t._v(" "),n("div",{staticClass:"chatting-content",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.hideEmoji(s)}}},t._l(t.msgs,function(s){return n("div",[s.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n\t\t\t\t\t\t"+t._s(s.date)+"\n\t\t\t\t\t")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))]),t._v(" "),n("img",{attrs:{src:s.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n             "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:s.avatarUrl,alt:""}}),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))])]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v("\n          \t"+t._s(s.content)+"\n          ")])])])})),t._v(" "),n("div",{staticClass:"chatting-input"},[n("div",{staticClass:"emoji"},[n("i",{staticClass:"icon-emoji",on:{click:t.showEmoji}})]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],attrs:{placeholder:"请输入..."},domProps:{value:t.inputContent},on:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13))return null;t.send(s)},focus:t.hideEmoji,input:function(s){s.target.composing||(t.inputContent=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.send}},[t._v("发送")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmoji,expression:"isShowEmoji"}],staticClass:"emoji-display"},[n("ul",t._l(t.emojis,function(s){return n("li",{on:{click:function(n){t.insertText(s)}}},[t._v(t._s(s))])}))])])])},staticRenderFns:[]}},166:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},167:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-left"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"},[n("i",{class:t.isAI?"icon-back":"icon-back2",on:{click:function(s){t.$router.push("/AI")}}})]),t._v(" "),n("div",{staticClass:"chatting-title"},[n("h2",[n("i",{staticClass:"icon-group"}),t._v("多人聊天室")])]),t._v(" "),n("div",{staticClass:"chatting-menu",on:{click:t.back}},[n("i",{staticClass:"icon-menu"})])]),t._v(" "),n("div",{staticClass:"chatting-content",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.hideEmoji(s)}}},t._l(t.msgs,function(s){return n("div",[s.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n\t\t\t\t\t\t"+t._s(s.date)+"\n\t\t\t\t\t")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))]),t._v(" "),n("img",{attrs:{src:s.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n             "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:s.avatarUrl,alt:""}}),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))])]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v("\n          \t"+t._s(s.content)+"\n          ")])])])})),t._v(" "),n("div",{staticClass:"chatting-input"},[n("div",{staticClass:"emoji"},[n("i",{staticClass:"icon-emoji",on:{click:t.showEmoji}})]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],attrs:{placeholder:"请输入..."},domProps:{value:t.inputContent},on:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13))return null;t.send(s)},focus:t.hideEmoji,input:function(s){s.target.composing||(t.inputContent=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.send}},[t._v("发送")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmoji,expression:"isShowEmoji"}],staticClass:"emoji-display"},[n("ul",t._l(t.emojis,function(s){return n("li",{on:{click:function(n){t.insertText(s)}}},[t._v(t._s(s))])}))])])])},staticRenderFns:[]}},168:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"login"},[t._m(0),t._v(" "),n("i",{staticClass:"icon-chat"}),t._v(" "),n("h2",[t._v("请输入您的名字")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",name:"",autofocus:""},domProps:{value:t.name},on:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13))return null;t.login(s)},input:function(s){s.target.composing||(t.name=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.login}},[t._v("登录")])])},staticRenderFns:[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("a",{attrs:{href:"http://www.qirenji.info",target:"_blank"}},[n("i",{staticClass:"icon-about"})])}]}}},[152]);
//# sourceMappingURL=app.def26d148bed984e7d52.js.map